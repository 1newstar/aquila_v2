{% extends 'include/base.html' %}
{#{% load udf_filter %}#}
{% block title %}
GetMetaData
{% endblock %}
{% block css %}
    <link rel="stylesheet" type="text/css" href="/static/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/metadata.css"/>
{% endblock %}


{% block body_body %}
    <div style="position: relative; top: 20px" >
{#        <div class="body_left2" style="width: 250px; position: absolute;">#}
        <div class="body_left2">
            <div style="width: 200px; display: inline-block;">
                <label>选择主机</label>
                <select class="form-control host_list" name="host_ip">
                    <option class="host_option">----</option>
                    {% for item in host_info %}
                        <option value="{{ item.host_ip }}">{{ item.host_ip }}</option>
                    {% endfor %}
                </select>
            </div>
            <div style="width: 200px; display: inline-block">
                <label class="base_info">选择库</label>
                <select class="form-control db_list" name="table_schema">
                    <option class="db_option">----</option>
                </select>
            </div>
            <div style="width: 200px; display: inline-block">
                <label class="base_info">选择表</label>
                <select class="form-control table_list">
                    <option class="table_option">----</option>
                </select>
            </div>
        </div>

{#        <div class="body_right" style="position: absolute; float: right; left: 280px; width:70%;">#}
        <div>
            <div class="panel panel-default base_info" style="border-color: #2aabd2;">
                <div class="panel-heading" style="background-color: #2aabd2; color: white">表信息</div>
                <div class="panel-body">
                    <table class="table table-bordered table-hover" id="table_info">
                            <tbody>
                                <tr>
                                    <th>表名</th><td id="table_name"></td>
                                    <th>引擎</th><td id="engine"></td>
                                    <th>行格式</th><td id="row_format"></td>
                                    <th>表行数</th><td id="table_rows"></td>
                                </tr>
                                <tr>
                                    <th>平均行长度</th><td id="avg_row_length"></td>
                                    <th>最大行长度</th><td id="max_data_length"></td>
                                    <th>数据长度</th><td id="data_length"></td>
                                    <th>索引长度</th><td id="index_length"></td>
                                </tr>
                                <tr>
                                    <th>空闲数据大小</th><td id="data_free"></td>
                                    <th>碎片大小</th><td id="chip_size"></td>
                                    <th>当前自增值</th><td id="auto_increment"></td>
                                    <th>表的校验码</th><td id="table_collation"></td>
                                </tr>
                                <tr>
                                    <th>创建时间</th><td id="create_time"></td>
                                    <th>更新时间</th><td id="update_time"></td>
                                    <th>检查时间</th><td id="check_time"></td>
                                    <th>表说明</th><td id="table_comment"></td>
                                </tr>
                            </tbody>
                        </table>
                </div>
            </div>
            <div class="panel panel-default base_info" style="border-color: #2aabd2;">
                <div class="panel-heading" style="background-color: #2aabd2; color: white">列信息</div>
                <div class="panel-body">
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>列名</th>
                                <th>列类型</th>
                                <th>列校验码</th>
                                <th>是否为空</th>
                                <th>索引列</th>
                                <th>默认值</th>
                                <th>扩展信息</th>
                                <th>权限</th>
                                <th>列说明</th>
                            </tr>
                        </thead>
                        <tbody class="tbody_column">
                        </tbody>

                    </table>
                </div>
            </div>
            <div class="panel panel-default base_info" style="border-color: #2aabd2;">
                <div class="panel-heading" style="background-color: #2aabd2; color: white">索引信息</div>
                <div class="panel-body">
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>列名</th>
                                <th>是否唯一索引</th>
                                <th>索引名</th>
                                <th>列序列</th>
                                <th>基数</th>
                                <th>是否是空</th>
                                <th>索引类型</th>
                                <th>索引说明</th>
                            </tr>
                        </thead>
                        <tbody class="tbody_index">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="panel panel-default base_info" style="border-color: #2aabd2;">
                <div class="panel-heading" style="background-color: #2aabd2; color: white">建表语句</div>
                <div class="panel-body">
                    <table class="table table-bordered table-hover">
                        <tbody>
                            <tr><code class="sql_content"></code></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div style="clear: both"></div>

{% endblock %}

{% block js %}
    <script src="/static/js/metadata.js"></script>
{% endblock %}